<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>com.google.api.grpc</groupId>
  <artifactId>grpc-google-common-protos</artifactId>
  <version>protobuf-shading-within-module</version><!-- {x-version-update:proto-google-common-protos:current} -->
  <name>grpc-google-common-protos</name>
  <description>GRPC library for grpc-google-common-protos</description>
  <parent>
    <groupId>com.google.api.grpc</groupId>
    <artifactId>google-common-protos-parent</artifactId>
    <version>protobuf-shading-within-module</version><!-- {x-version-update:proto-google-common-protos:current} -->
  </parent>
  <dependencies>
    <dependency>
      <groupId>io.grpc</groupId>
      <artifactId>grpc-api</artifactId>
    </dependency>
    <dependency>
      <groupId>io.grpc</groupId>
      <artifactId>grpc-stub</artifactId>
    </dependency>
    <dependency>
      <groupId>io.grpc</groupId>
      <artifactId>grpc-protobuf</artifactId>
      <exclusions>
        <exclusion>
          <groupId>com.google.protobuf</groupId>
          <artifactId>protobuf-java</artifactId>
        </exclusion>
        <exclusion>
          <groupId>com.google.api.grpc</groupId>
          <artifactId>proto-google-common-protos</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
<!--    <dependency>-->
<!--      <groupId>com.google.protobuf</groupId>-->
<!--      <artifactId>protobuf-java</artifactId>-->
<!--    </dependency>-->
    <dependency>
      <groupId>org.example</groupId>
      <artifactId>protobuf-api</artifactId>
      <version>1.0-SNAPSHOT</version>
    </dependency>
    <dependency>
      <groupId>com.google.guava</groupId>
      <artifactId>guava</artifactId>
    </dependency>
    <dependency>
      <groupId>com.google.api.grpc</groupId>
      <artifactId>proto-google-common-protos</artifactId>
      <exclusions>
        <exclusion>
          <groupId>org.example</groupId>
          <artifactId>protobuf-sdk</artifactId>
        </exclusion>
      </exclusions>
    </dependency>
  </dependencies>

  <build>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>flatten-maven-plugin</artifactId>
        <version>1.7.0</version>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-enforcer-plugin</artifactId>
        <version>3.5.0</version>
        <configuration>
          <rules>
            <banDuplicateClasses>
              <ignoreClasses>
                <ignoreClass>com.google.protobuf.*</ignoreClass>
              </ignoreClasses>
            </banDuplicateClasses>
          </rules>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-shade-plugin</artifactId>
        <version>3.6.0</version>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>shade</goal>
            </goals>
            <configuration>
              <artifactSet>
                <includes>
                  <include>org.example:protobuf-sdk</include>
                </includes>
              </artifactSet>
              <relocations>
                <relocation>
                  <pattern>com.google.protobuf</pattern>
                  <shadedPattern>com.shaded.google.protobuf</shadedPattern>
                  <excludes>
                    <exclude>com.google.protobuf.AbstractMessage</exclude>
                    <exclude>com.google.protobuf.AbstractMessage$*</exclude>
                    <exclude>com.google.protobuf.AbstractMessage$Builder*</exclude>
                    <exclude>com.google.protobuf.AbstractMessageLite</exclude>
                    <exclude>com.google.protobuf.AbstractMessageLite$*</exclude>
                    <exclude>com.google.protobuf.AbstractMessageLite$Builder*</exclude>
                    <exclude>com.google.protobuf.AbstractParser</exclude>
                    <exclude>com.google.protobuf.AbstractProtobufList</exclude>
                    <exclude>com.google.protobuf.Android</exclude>
                    <exclude>com.google.protobuf.ArrayDecoders</exclude>
                    <exclude>com.google.protobuf.BooleanArrayList</exclude>
                    <exclude>com.google.protobuf.ByteBufferWriter</exclude>
                    <exclude>com.google.protobuf.ByteOutput</exclude>
                    <exclude>com.google.protobuf.ByteString</exclude>
                    <exclude>com.google.protobuf.CanIgnoreReturnValue</exclude>
                    <exclude>com.google.protobuf.CheckReturnValue</exclude>
                    <exclude>com.google.protobuf.CodedInputStream</exclude>
                    <exclude>com.google.protobuf.CodedInputStreamReader</exclude>
                    <exclude>com.google.protobuf.CodedOutputStream</exclude>
                    <exclude>com.google.protobuf.CodedOutputStreamWriter</exclude>
                    <exclude>com.google.protobuf.CompileTimeConstant</exclude>
                    <exclude>com.google.protobuf.DescriptorProtos</exclude>
                    <exclude>com.google.protobuf.DescriptorProtos$*</exclude>
                    <exclude>com.google.protobuf.Descriptors*</exclude>
                    <exclude>com.google.protobuf.DoubleArrayList</exclude>
                    <exclude>com.google.protobuf.DynamicMessage</exclude>
                    <exclude>com.google.protobuf.ExperimentalApi</exclude>
                    <exclude>com.google.protobuf.Extension</exclude>
                    <exclude>com.google.protobuf.ExtensionLite</exclude>
                    <exclude>com.google.protobuf.ExtensionRegistry</exclude>
                    <exclude>com.google.protobuf.ExtensionRegistryFactory</exclude>
                    <exclude>com.google.protobuf.ExtensionRegistryLite</exclude>
                    <exclude>com.google.protobuf.ExtensionSchema</exclude>
                    <exclude>com.google.protobuf.ExtensionSchemaLite</exclude>
                    <exclude>com.google.protobuf.ExtensionSchemas</exclude>
                    <exclude>com.google.protobuf.FieldInfo</exclude>
                    <exclude>com.google.protobuf.FieldSet</exclude>
                    <exclude>com.google.protobuf.FieldType</exclude>
                    <exclude>com.google.protobuf.FloatArrayList</exclude>
                    <exclude>com.google.protobuf.GeneratedMessage</exclude>
                    <exclude>com.google.protobuf.GeneratedMessage$*</exclude>
                    <exclude>com.google.protobuf.GeneratedMessageInfoFactory</exclude>
                    <exclude>com.google.protobuf.GeneratedMessageLite</exclude>
                    <exclude>com.google.protobuf.GeneratedMessageV3</exclude>
                    <exclude>com.google.protobuf.GeneratedMessageV3$*</exclude>
                    <exclude>com.google.protobuf.InlineMe</exclude>
                    <exclude>com.google.protobuf.IntArrayList</exclude>
                    <exclude>com.google.protobuf.Internal*</exclude>
                    <exclude>com.google.protobuf.InvalidProtocolBufferException</exclude>
                    <exclude>com.google.protobuf.IterableByteBufferInputStream</exclude>
                    <exclude>com.google.protobuf.Compatibility</exclude>
                    <exclude>com.google.protobuf.Type</exclude>
                    <exclude>com.google.protobuf.LazyField</exclude>
                    <exclude>com.google.protobuf.LazyFieldLite</exclude>
                    <exclude>com.google.protobuf.LazyStringArrayList</exclude>
                    <exclude>com.google.protobuf.LazyStringList</exclude>
                    <exclude>com.google.protobuf.ListFieldSchema</exclude>
                    <exclude>com.google.protobuf.LongArrayList</exclude>
                    <exclude>com.google.protobuf.ManifestSchemaFactory</exclude>
                    <exclude>com.google.protobuf.MapEntry</exclude>
                    <exclude>com.google.protobuf.MapEntry$*</exclude>
                    <exclude>com.google.protobuf.MapEntryLite</exclude>
                    <exclude>com.google.protobuf.MapField</exclude>
                    <exclude>com.google.protobuf.MapFieldLite</exclude>
                    <exclude>com.google.protobuf.MapFieldReflectionAccessor</exclude>
                    <exclude>com.google.protobuf.MapFieldSchema</exclude>
                    <exclude>com.google.protobuf.MapFieldSchemaLite</exclude>
                    <exclude>com.google.protobuf.MapFieldSchemas</exclude>
                    <exclude>com.google.protobuf.Message</exclude>
                    <exclude>com.google.protobuf.Message$Builder*</exclude>
                    <exclude>com.google.protobuf.MessageInfo</exclude>
                    <exclude>com.google.protobuf.MessageInfoFactory</exclude>
                    <exclude>com.google.protobuf.MessageLite</exclude>
                    <exclude>com.google.protobuf.MessageLite$Builder*</exclude>
                    <exclude>com.google.protobuf.MessageLiteOrBuilder</exclude>
                    <exclude>com.google.protobuf.MessageLiteToString</exclude>
                    <exclude>com.google.protobuf.MessageOrBuilder</exclude>
                    <exclude>com.google.protobuf.MessageReflection</exclude>
                    <exclude>com.google.protobuf.MessageSchema</exclude>
                    <exclude>com.google.protobuf.MessageSetSchema</exclude>
                    <exclude>com.google.protobuf.MutabilityOracle</exclude>
                    <exclude>com.google.protobuf.NewInstanceSchema</exclude>
                    <exclude>com.google.protobuf.NewInstanceSchemaLite</exclude>
                    <exclude>com.google.protobuf.NewInstanceSchemas</exclude>
                    <exclude>com.google.protobuf.NioByteString</exclude>
                    <exclude>com.google.protobuf.OneofInfo</exclude>
                    <exclude>com.google.protobuf.Parser</exclude>
                    <exclude>com.google.protobuf.PrimitiveNonBoxingCollection</exclude>
                    <exclude>com.google.protobuf.Protobuf</exclude>
                    <exclude>com.google.protobuf.ProtobufArrayList</exclude>
                    <exclude>com.google.protobuf.ProtocolMessageEnum</exclude>
                    <exclude>com.google.protobuf.ProtocolStringList</exclude>
                    <exclude>com.google.protobuf.ProtoSyntax</exclude>
                    <exclude>com.google.protobuf.RawMessageInfo</exclude>
                    <exclude>com.google.protobuf.Reader</exclude>
                    <exclude>com.google.protobuf.RepeatedFieldBuilderV3</exclude>
                    <exclude>com.google.protobuf.RopeByteString</exclude>
                    <exclude>com.google.protobuf.Schema</exclude>
                    <exclude>com.google.protobuf.SchemaFactory</exclude>
                    <exclude>com.google.protobuf.SchemaUtil</exclude>
                    <exclude>com.google.protobuf.SingleFieldBuilderV3</exclude>
                    <exclude>com.google.protobuf.SmallSortedMap</exclude>
                    <exclude>com.google.protobuf.StructuralMessageInfo</exclude>
                    <exclude>com.google.protobuf.TextFormat</exclude>
                    <exclude>com.google.protobuf.TextFormatEscaper</exclude>
                    <exclude>com.google.protobuf.TextFormatParseInfoTree</exclude>
                    <exclude>com.google.protobuf.TextFormatParseLocation</exclude>
                    <exclude>com.google.protobuf.TypeRegistry</exclude>
                    <exclude>com.google.protobuf.UninitializedMessageException</exclude>
                    <exclude>com.google.protobuf.UnknownFieldSchema</exclude>
                    <exclude>com.google.protobuf.UnknownFieldSet</exclude>
                    <exclude>com.google.protobuf.UnknownFieldSetLite</exclude>
                    <exclude>com.google.protobuf.UnknownFieldSetLiteSchema</exclude>
                    <exclude>com.google.protobuf.UnmodifiableLazyStringList</exclude>
                    <exclude>com.google.protobuf.UnsafeByteOperations</exclude>
                    <exclude>com.google.protobuf.UnsafeUtil</exclude>
                    <exclude>com.google.protobuf.Utf8</exclude>
                    <exclude>com.google.protobuf.WireFormat</exclude>
                    <exclude>com.google.protobuf.WireFormat$*</exclude>
                    <exclude>com.google.protobuf.Writer</exclude>
                    <exclude>com.google.protobuf.Any</exclude>
                    <exclude>com.google.protobuf.Api</exclude>
                    <exclude>com.google.protobuf.BoolValue</exclude>
                    <exclude>com.google.protobuf.BoolValue$*</exclude>
                    <exclude>com.google.protobuf.BoolValue$Builder*</exclude>
                    <exclude>com.google.protobuf.BytesValue</exclude>
                    <exclude>com.google.protobuf.BytesValue$*</exclude>
                    <exclude>com.google.protobuf.BytesValue$Builder*</exclude>
                    <exclude>com.google.protobuf.DoubleValue</exclude>
                    <exclude>com.google.protobuf.DoubleValue$*</exclude>
                    <exclude>com.google.protobuf.DoubleValue$Builder*</exclude>
                    <exclude>com.google.protobuf.Duration</exclude>
                    <exclude>com.google.protobuf.Duration$*</exclude>
                    <exclude>com.google.protobuf.DurationOrBuilder</exclude>
                    <exclude>com.google.protobuf.Duration$Builder*</exclude>
                    <exclude>com.google.protobuf.Empty</exclude>
                    <exclude>com.google.protobuf.Enum</exclude>
                    <exclude>com.google.protobuf.Enum$*</exclude>
                    <exclude>com.google.protobuf.Enum$Builder*</exclude>
                    <exclude>com.google.protobuf.EnumValue</exclude>
                    <exclude>com.google.protobuf.EnumValue$*</exclude>
                    <exclude>com.google.protobuf.EnumValue$Builder*</exclude>
                    <exclude>com.google.protobuf.Field</exclude>
                    <exclude>com.google.protobuf.Field.Cardinal</exclude>
                    <exclude>com.google.protobuf.Field.Kind</exclude>
                    <exclude>com.google.protobuf.FieldMask</exclude>
                    <exclude>com.google.protobuf.FieldMask*</exclude>
                    <exclude>com.google.protobuf.FloatValue</exclude>
                    <exclude>com.google.protobuf.FloatValueOrBuilder</exclude>
                    <exclude>com.google.protobuf.FloatValue$*</exclude>
                    <exclude>com.google.protobuf.FloatValue$Builder*</exclude>
                    <exclude>com.google.protobuf.Int32Value</exclude>
                    <exclude>com.google.protobuf.Int32Value$*</exclude>
                    <exclude>com.google.protobuf.Int32ValueOrBuilder</exclude>
                    <exclude>com.google.protobuf.Int32Value$Builder*</exclude>
                    <exclude>com.google.protobuf.Int64Value</exclude>
                    <exclude>com.google.protobuf.Int64Value$*</exclude>
                    <exclude>com.google.protobuf.Int64ValueOrBuilder</exclude>
                    <exclude>com.google.protobuf.Int64Value$Builder*</exclude>
                    <exclude>com.google.protobuf.ListValue</exclude>
                    <exclude>com.google.protobuf.ListValue$*</exclude>
                    <exclude>com.google.protobuf.Method</exclude>
                    <exclude>com.google.protobuf.Mixin</exclude>
                    <exclude>com.google.protobuf.NullValue</exclude>
                    <exclude>com.google.protobuf.Option</exclude>
                    <exclude>com.google.protobuf.SourceContext</exclude>
                    <exclude>com.google.protobuf.StringValue</exclude>
                    <exclude>com.google.protobuf.StringValue$*</exclude>
                    <exclude>com.google.protobuf.Struct</exclude>
                    <exclude>com.google.protobuf.Struct$*</exclude>
                    <exclude>com.google.protobuf.StructProto</exclude>
                    <exclude>com.google.protobuf.Syntax</exclude>
                    <exclude>com.google.protobuf.Timestamp</exclude>
                    <exclude>com.google.protobuf.Timestamp$*</exclude>
                    <exclude>com.google.protobuf.TimestampOrBuilder</exclude>
                    <exclude>com.google.protobuf.Timestamp$Builder*</exclude>
                    <exclude>com.google.protobuf.Type</exclude>
                    <exclude>com.google.protobuf.UInt32Value</exclude>
                    <exclude>com.google.protobuf.UInt32Value$*</exclude>
                    <exclude>com.google.protobuf.UInt32ValueOrBuilder</exclude>
                    <exclude>com.google.protobuf.UInt32Value$Builder*</exclude>
                    <exclude>com.google.protobuf.UInt64Value</exclude>
                    <exclude>com.google.protobuf.UInt64Value$*</exclude>
                    <exclude>com.google.protobuf.UInt64ValueOrBuilder</exclude>
                    <exclude>com.google.protobuf.UInt64Value$Builder*</exclude>
                    <exclude>com.google.protobuf.Value</exclude>
                    <exclude>com.google.protobuf.Value$*</exclude>
                    <exclude>com.google.protobuf.WrappersProto</exclude>
                    <exclude>com.google.protobuf.DurationProto</exclude>
                    <exclude>com.google.protobuf.TimestampProto</exclude>
                  </excludes>
                </relocation>
              </relocations>
            </configuration>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>

  <profiles>
    <profile>
      <id>java9</id>
      <activation>
        <jdk>[9,)</jdk>
      </activation>
      <dependencies>
        <dependency>
          <groupId>javax.annotation</groupId>
          <artifactId>javax.annotation-api</artifactId>
          <version>${javax.annotation-api.version}</version>
        </dependency>
      </dependencies>
    </profile>
  </profiles>
</project>